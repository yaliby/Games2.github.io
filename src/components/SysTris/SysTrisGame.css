/* SysTrisGame.css — Classic (no effects)
   - Removed: animated background, scanlines, aurora, glow, trails, bursts, shockwaves, clearing dissolve, perf mode, etc.
   - Kept: layout, board, grid, cells, overlay, sidebar, leaderboard, howto, podium
*/

/* Optional: keep your fonts (safe, no animation) */
@import url("https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&family=Chakra+Petch:wght@400;600;700&display=swap");

:root {
  --panel: rgba(10, 14, 24, 0.9);
  --panel-2: rgba(14, 18, 32, 0.9);
  --border: rgba(160, 180, 220, 0.22);
  --text: #eaf3ff;
  --muted: rgba(234, 243, 255, 0.7);
}

/* ── Page ───────────────────────────────────────────────────── */
.systris-page {
  min-height: 100svh;
  display: grid;
  place-items: start center;
  padding: 1.25rem 0.75rem 2rem;
  font-family: "Chakra Petch", "Segoe UI", sans-serif;
  color: var(--text);
  background: #0b1022; /* flat classic background */
}

.systris-beat-vignette { display: none; }
.systris-page::before,
.systris-page::after { content: none; }

/* ── Shell ───────────────────────────────────────────────────── */
.systris-shell {
  width: min(1280px, 100%);
  border-radius: 1.25rem;
  border: 1px solid var(--border);
  background: var(--panel);
  box-shadow: 0 18px 42px rgba(0, 0, 0, 0.45);
  position: relative;
  overflow: hidden;
  isolation: isolate;
}

.systris-shell::before,
.systris-shell::after { content: none; }

.systris-shell > * { position: relative; }

/* ── Header ──────────────────────────────────────────────────── */
.systris-header { padding: 1.1rem 1.2rem 0.7rem; }

.systris-title {
  margin: 0;
  font-family: "Orbitron", "Chakra Petch", sans-serif;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: clamp(1.35rem, 2.7vw, 2.1rem);
  font-weight: 800;
  line-height: 1;
}

.systris-subtitle {
  margin: 0.3rem 0 0;
  font-size: 0.8rem;
  letter-spacing: 0.07em;
  text-transform: uppercase;
  opacity: 0.66;
}

/* In classic TSX we removed the perf toggle, but keep styling harmlessly */
.systris-perf-toggle { display: none; }

/* ── Layout ──────────────────────────────────────────────────── */
.systris-layout {
  display: grid;
  gap: 1rem;
  grid-template-columns: minmax(220px, 280px) minmax(0, 1fr) minmax(220px, 280px);
  grid-template-areas: "left board right";
  align-items: start;
  padding: 0.4rem 1.2rem 1.1rem;
}

/* ── Sidebar ─────────────────────────────────────────────────── */
.systris-sidebar {
  grid-area: left;
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
}

.systris-stat {
  border-radius: 0.95rem;
  border: 1px solid var(--border);
  background: var(--panel-2);
  padding: 0.65rem 0.75rem 0.72rem;
}

.systris-stat-label {
  display: block;
  font-size: 0.67rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  opacity: 0.72;
}

.systris-stat-value {
  display: block;
  margin-top: 0.25rem;
  font-family: "Orbitron", "Chakra Petch", sans-serif;
  font-size: clamp(1.15rem, 2.2vw, 1.65rem);
  letter-spacing: 0.05em;
}

.systris-stat-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr)); /* classic TSX shows only level/lines */
  gap: 0.5rem;
}

.systris-chip {
  border-radius: 0.8rem;
  border: 1px solid rgba(160, 180, 220, 0.18);
  background: rgba(18, 22, 40, 0.7);
  padding: 0.45rem 0.4rem 0.5rem;
  text-align: center;
}

.systris-chip span {
  display: block;
  font-size: 0.62rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  opacity: 0.7;
}

.systris-chip strong {
  display: block;
  margin-top: 0.15rem;
  font-size: 1rem;
  font-family: "Orbitron", "Chakra Petch", sans-serif;
}

/* combo bar removed in TSX, but keep safe */
.systris-combo-bar { display: none; }

/* ── Next ────────────────────────────────────────────────────── */
.systris-next {
  border-radius: 1rem;
  border: 1px solid rgba(160, 180, 220, 0.18);
  background: rgba(12, 16, 32, 0.75);
  padding: 0.6rem 0.65rem 0.75rem;
}

.systris-next h2 {
  margin: 0;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  opacity: 0.82;
}

.systris-next-list {
  display: grid;
  gap: 0.45rem;
  margin-top: 0.55rem;
}

.systris-mini {
  --mini-size: 0.52rem;
  width: fit-content;
  border-radius: 0.65rem;
  border: 1px solid rgba(160, 180, 220, 0.14);
  background: rgba(10, 14, 28, 0.85);
  padding: 0.36rem;
}

.systris-mini-row { display: flex; gap: 0.22rem; }
.systris-mini-row + .systris-mini-row { margin-top: 0.22rem; }

.systris-mini-cell {
  width: var(--mini-size);
  height: var(--mini-size);
  border-radius: 0.18rem;
  background: rgba(255, 255, 255, 0.08);
}

.systris-mini-cell.is-on {
  background: var(--mini-color);
  border: 1px solid rgba(255, 255, 255, 0.18);
}

/* ── Message ─────────────────────────────────────────────────── */
.systris-message {
  margin: 0;
  min-height: 1.4rem;
  font-size: 0.8rem;
  line-height: 1.25;
  letter-spacing: 0.03em;
  color: rgba(234, 243, 255, 0.88);
}

/* ── Leaderboard ─────────────────────────────────────────────── */
.systris-leaderboard {
  grid-area: right;
  border-radius: 1rem;
  border: 1px solid var(--border);
  background: rgba(10, 14, 28, 0.85);
  padding: 0.7rem;
  display: grid;
  gap: 0.58rem;
  box-shadow: 0 12px 26px rgba(0,0,0,0.35);
}

.systris-leaderboard-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.systris-leaderboard-head h2 {
  margin: 0;
  font-size: 0.78rem;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  opacity: 0.85;
}

.systris-leaderboard-badge {
  border-radius: 999px;
  border: 1px solid rgba(160, 180, 220, 0.22);
  background: rgba(255, 255, 255, 0.06);
  padding: 0.14rem 0.5rem;
  font-size: 0.57rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(232,243,255,0.88);
}

.systris-leaderboard-best {
  border-radius: 0.8rem;
  border: 1px solid rgba(160, 180, 220, 0.18);
  background: rgba(16, 20, 36, 0.8);
  padding: 0.5rem 0.62rem;
  display: grid;
  gap: 0.16rem;
}

.systris-leaderboard-best span {
  font-size: 0.62rem;
  letter-spacing: 0.11em;
  text-transform: uppercase;
  opacity: 0.72;
}

.systris-leaderboard-best strong {
  font-size: 1.18rem;
  font-family: "Orbitron", "Chakra Petch", sans-serif;
  letter-spacing: 0.06em;
}

.systris-leaderboard-list { display: grid; gap: 0.42rem; }

.systris-leaderboard-row {
  border-radius: 0.78rem;
  border: 1px solid rgba(160, 180, 220, 0.14);
  background: rgba(12, 16, 32, 0.75);
  padding: 0.36rem 0.45rem;
  display: grid;
  grid-template-columns: 20px minmax(0, 1fr) auto;
  align-items: center;
  gap: 0.4rem;
}

.systris-leaderboard-row.is-self {
  border-color: rgba(255, 209, 98, 0.40);
}

.systris-leaderboard-rank {
  font-size: 0.75rem;
  font-weight: 800;
  font-family: "Orbitron", "Chakra Petch", sans-serif;
  color: rgba(217,234,255,0.92);
}

.systris-leaderboard-score {
  font-size: 0.83rem;
  font-family: "Orbitron", "Chakra Petch", sans-serif;
  letter-spacing: 0.04em;
  color: #ffd672;
}

.systris-leaderboard-empty {
  margin: 0;
  font-size: 0.74rem;
  color: rgba(225,240,255,0.70);
}

/* ── Board ───────────────────────────────────────────────────── */
.systris-board-wrap {
  --board-width: min(24rem, 56vw, calc((100svh - 13rem) / 2));
  grid-area: board;
  width: var(--board-width);
  margin-inline: auto;
  border-radius: 1.05rem;
  border: 1px solid rgba(160, 180, 220, 0.28);
  background: rgba(10, 14, 28, 0.9);
  padding: 0.52rem;
  position: relative;
  overflow: hidden;
  box-shadow: 0 14px 28px rgba(0,0,0,0.45);
}

/* All effect layers removed/hidden */
.systris-lock-flash-overlay,
.systris-shockwave,
.systris-action-banner,
.systris-line-flash,
.systris-impact-wave,
.systris-bursts,
.systris-effects,
.systris-bg-shift { display: none !important; }

/* ── Grid ────────────────────────────────────────────────────── */
.systris-grid {
  display: grid;
  grid-template-columns: repeat(10, minmax(0, 1fr));
  grid-template-rows: repeat(20, minmax(0, 1fr));
  gap: 0.15rem;
  width: 100%;
  aspect-ratio: 1 / 2;
  border-radius: 0.78rem;
  padding: 0.16rem;
  background: rgba(6, 10, 20, 0.95);
}

/* Cells */
.systris-cell {
  border-radius: 0.22rem;
  border: 1px solid rgba(160, 180, 220, 0.14);
  background: rgba(14, 18, 34, 0.9);
}

/* Filled (locked/active) — flat color, no glow */
.systris-cell.is-filled {
  border-color: rgba(255, 255, 255, 0.18);
  background: var(--cell-color);
}

.systris-cell.is-active {
  outline: 1px solid rgba(255, 255, 255, 0.22);
  outline-offset: -1px;
}

/* Ghost removed in classic TSX; keep harmless */
.systris-cell.is-ghost { display: none; }

/* Clearing removed; keep harmless */
.systris-cell.is-filled.is-clearing { animation: none; }

/* ── Overlay ─────────────────────────────────────────────────── */
.systris-overlay {
  position: absolute;
  inset: 0.52rem;
  border-radius: 0.78rem;
  display: grid;
  place-content: center;
  gap: 0.5rem;
  text-align: center;
  background: rgba(0, 0, 0, 0.65);
  z-index: 8;
}

.systris-overlay h2 {
  margin: 0;
  font-family: "Orbitron", "Chakra Petch", sans-serif;
  font-size: 1.28rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.systris-overlay p { margin: 0; font-size: 0.73rem; opacity: 0.85; }

.systris-overlay button {
  justify-self: center;
  border: 1px solid rgba(200, 210, 235, 0.35);
  background: #eaf3ff;
  color: #0b1022;
  border-radius: 999px;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 0.74rem;
  padding: 0.5rem 1.1rem;
  cursor: pointer;
}

/* ── How to play ─────────────────────────────────────────────── */
.systris-howto {
  margin: 0.15rem 1.2rem 0.9rem;
  border-radius: 1rem;
  border: 1px solid rgba(160, 180, 220, 0.18);
  background: rgba(10, 14, 28, 0.85);
  padding: 0.7rem 0.8rem 0.8rem;
}

.systris-howto h2 {
  margin: 0;
  font-size: 0.77rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  opacity: 0.85;
}

.systris-howto-list {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 0.5rem;
  margin-top: 0.6rem;
}

.systris-howto-item {
  border-radius: 0.75rem;
  border: 1px solid rgba(160, 180, 220, 0.14);
  background: rgba(12, 16, 32, 0.75);
  padding: 0.45rem 0.38rem 0.5rem;
  text-align: center;
}

.systris-howto-icon {
  display: inline-grid;
  place-items: center;
  min-width: 2rem;
  height: 2rem;
  padding: 0 0.22rem;
  border-radius: 999px;
  border: 1px solid rgba(160, 180, 220, 0.22);
  background: rgba(255, 255, 255, 0.06);
  font-family: "Orbitron", "Chakra Petch", sans-serif;
  font-size: 0.76rem;
}

.systris-howto-item p { margin: 0.36rem 0 0; font-size: 0.65rem; line-height: 1.25; opacity: 0.9; }

/* ── Podium ──────────────────────────────────────────────────── */
.systris-podium-shell {
  margin: 0 1.2rem 1.1rem;
  border-radius: 1rem;
  border: 1px solid rgba(160, 180, 220, 0.18);
  background: rgba(10, 14, 28, 0.85);
  padding: 0.75rem 0.85rem 0.92rem;
  display: grid;
  gap: 0.7rem;
}

.systris-podium-head { display: flex; align-items: center; justify-content: space-between; gap: 0.5rem; }
.systris-podium-head h2 { margin: 0; font-size: 0.77rem; letter-spacing: 0.12em; text-transform: uppercase; opacity: 0.85; }
.systris-podium-head span {
  border-radius: 999px;
  border: 1px solid rgba(255, 213, 109, 0.28);
  background: rgba(255, 213, 109, 0.10);
  padding: 0.16rem 0.55rem;
  font-size: 0.58rem;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: rgba(255,235,179,0.88);
}

.systris-podium { display: flex; justify-content: center; align-items: end; gap: 0.7rem; flex-wrap: wrap; }

.systris-podium-slot { width: min(31%, 192px); min-width: 120px; display: grid; gap: 0.46rem; }

.systris-podium-user {
  border-radius: 0.72rem;
  border: 1px solid rgba(160, 180, 220, 0.14);
  background: rgba(12, 16, 32, 0.75);
  min-height: 2.55rem;
  padding: 0.26rem 0.36rem;
  display: grid;
  align-items: center;
}

.systris-podium-user span { font-size: 0.74rem; text-align: center; color: rgba(224,239,255,0.68); }

.systris-podium-pillar {
  border-radius: 0.84rem 0.84rem 0.62rem 0.62rem;
  border: 1px solid rgba(160, 180, 220, 0.18);
  background: rgba(255, 255, 255, 0.05);
  display: grid;
  align-content: center;
  justify-items: center;
  gap: 0.1rem;
}

.systris-podium-pillar strong { font-family: "Orbitron", "Chakra Petch", sans-serif; font-size: 1.12rem; line-height: 1; }
.systris-podium-pillar span   { font-size: 0.73rem; font-family: "Orbitron", "Chakra Petch", sans-serif; }

/* Status tint (simple) */
.systris-shell--paused .systris-grid { filter: grayscale(0.1) brightness(0.9); }
.systris-shell--gameover .systris-grid { filter: grayscale(0.35) brightness(0.8); }

/* ── Responsive ──────────────────────────────────────────────── */
@media (max-width: 980px) {
  .systris-layout {
    grid-template-columns: 1fr;
    grid-template-areas: "left" "board" "right";
    gap: 0.8rem;
  }

  .systris-sidebar {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.55rem;
  }

  .systris-message { grid-column: 1 / -1; min-height: unset; }
  .systris-next { grid-column: 1 / -1; }

  .systris-next-list { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .systris-mini { justify-self: center; }

  .systris-board-wrap {
    --board-width: min(24rem, 86vw, calc((100svh - 16rem) / 2));
  }
}

@media (max-width: 620px) {
  .systris-page { padding: 0.55rem 0 1.1rem; }

  .systris-shell {
    border-radius: 0;
    border-left: none;
    border-right: none;
  }

  .systris-header { padding: 0.9rem 0.85rem 0.55rem; }
  .systris-layout { padding: 0.3rem 0.85rem 0.8rem; }

  .systris-sidebar { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .systris-stat { padding-inline: 0.5rem; }
  .systris-stat-value { font-size: 1.06rem; }

  .systris-stat-grid,
  .systris-next,
  .systris-message { grid-column: 1 / -1; }

  .systris-board-wrap {
    --board-width: min(94vw, 22rem, calc((100svh - 15rem) / 2));
    padding: 0.42rem;
  }

  .systris-howto { margin: 0 0.85rem 0.75rem; padding-inline: 0.62rem; }
  .systris-howto-list { grid-template-columns: repeat(2, minmax(0, 1fr)); }

  .systris-leaderboard { padding: 0.56rem; }
  .systris-leaderboard-head h2 { font-size: 0.73rem; }
  .systris-leaderboard-badge { font-size: 0.53rem; padding-inline: 0.38rem; }

  .systris-leaderboard-row {
    grid-template-columns: 18px minmax(0, 1fr) auto;
    padding-inline: 0.32rem;
  }

  .systris-podium-shell { margin: 0 0.85rem 0.75rem; padding: 0.64rem; }
  .systris-podium { gap: 0.45rem; }

  .systris-podium-slot {
    min-width: 94px;
    width: calc(33.333% - 0.32rem);
  }

  .systris-podium-head span { font-size: 0.53rem; padding-inline: 0.42rem; }
}

/* ── Reduced motion: nothing animated anyway ─────────────────── */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}
